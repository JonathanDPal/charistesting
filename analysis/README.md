The three subfolders are older stuff which you can read about
in their respective READMEs. The scripts around here are the
final analyses which I conducted to find optimal parameters.

Short Version:
-
To get the optimal parameter groups, for each observation
sequence you're interested in:
- Run SNR_scoring.py within the analysis folder of the
folder corresponding to the observation sequence
- Run contrast_scoring.py (within analysis folder)
- Run overall_scoring.py (within analysis folder)

Then move "parameterranking.py" out to the main folder which
contains subfolders corresponding to each observation
sequence, and run it with the names of each observation
sequence as command line arguments; e.g. 
```python parameterranking.py HD1160 HR8799 KB Kappa```.
Then run "collapse_pr.py" with each number of KL modes per
parameter set that you are interested in. The number of KL
modes is a command line argument, e.g. ```python collapse_pr
.py 2``` to get a file where you get all the scores for a
given parameter set based on the group of 2 values of KL
modes which admits the best threshold. Then run
"opis.py" on the output file of "collapse_pr"
and you're done. opis requires a few command line arguments,
which you can read about in the comments in that script.

Additional Info:
-
The scripts "SNR_scoring.py" and "contrast_scoring.py" 
generate two scores, the first of which is derived from the 
SNRs of the fake planets after pyKLIP has been run, and the
latter being derived from the calibrated contrast of the 
image at certain separations after pyKLIP has been run. 
These two produce seperate CSVs which are linked together 
into a single CSV file via "overall_scoring.py".

The script "parameterranking.py" takes the contrast and SNR
scores of the individual star systems, and synthesizes them
into a single CSV file where the columns are the parameters
along with their respective rankings on each score compared
to the other parameters.

The script "opis.py" is the finishing touch on 
getting the ideal parameter sets. It looks at the CSV file
generated by "parameterranking.py" and investigates possible
groups of parameter sets, measuring the threshold for each. 
The threshold refers to the minimum value such that for 
every star system's SNR and contrast scores, at least one of
the parameter sets in the group scores at or above the
threshold. This script, however, only tells you the 
parameter set group which has the highest threshold (and
what that threshold is). If you want complete threshold data
(opis only provides the parameter set group with highest 
threshold), and you are investigating a small number of
different parameter set groups, then you can use 
"optimalgroups.py". Do not use this script for investigation
of a large set of parameter set groups, however, as it has
high average memory usage and computation time per parameter
set group investigated. On planetfinder, I found that it
was entirely harmless for doing a search on 6048 choose 2
(which is a little over 18 million) different parameter
groups, but was taking far too much memory (an
extraordinary feat, given how much memory planetfinder has)
for doing a search on 6048 choose 3 (which is about 37 
billion) different parameter groups. If you wanted to get
around the memory problem (and, to an extent, the
higher computation time), then you could implement the
batching stuff from opis into optimalgroups and then use the
"collapse_batches" script afterwards to get a single file.

The other caveat to the opis vs. optimalgroups scripts is
that opis doesn't work for examining situations where there
is only one parameter set per group. However, in this case
there will be very few groups to check (since {n choose 1}
= n), so optimalgroups works just fine for this.

